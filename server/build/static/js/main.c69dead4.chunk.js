(this["webpackJsonpconnect-four"]=this["webpackJsonpconnect-four"]||[]).push([[0],{119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(29),s=a.n(c),i=a(6),o=a(67),u=a.n(o),l=a(43),d=(a(49),a(79),l.default.initializeApp({apiKey:"AIzaSyBgr9G-PNput-ub3WUqUFwj9ujDw42hPOk",authDomain:"connect-four-development.firebaseapp.com",databaseURL:"https://connect-four-development-default-rtdb.firebaseio.com",projectId:"connect-four-development",storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyBgr9G-PNput-ub3WUqUFwj9ujDw42hPOk",REACT_APP_FIREBASE_AUTH_DOMAIN:"connect-four-development.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://connect-four-development-default-rtdb.firebaseio.com",REACT_APP_FIREBASE_PROJECT_ID:"connect-four-development",REACT_APP_FIREBASE_STOREAGE_BUCKET:"connect-four-development.appspot.com",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"790566826312",REACT_APP_FIREBASE_APP_ID:"1:790566826312:web:213915aaf3255f0eb1437d",REACT_APP_TEST:"true"}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:"790566826312",appId:"1:790566826312:web:213915aaf3255f0eb1437d"})),j=d.auth();"localhost"===window.location.hostname&&(d.database().useEmulator("localhost",9e3),d.auth().useEmulator("http://localhost:9099",{disableWarnings:!1}));u.a.createClass(d.database());var b=a(2),O=r.a.createContext();function f(){return Object(n.useContext)(O)}function p(e){var t=e.children,a=Object(n.useState)(),r=Object(i.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(!0),u=Object(i.a)(o,2),l=u[0],d=u[1];Object(n.useEffect)((function(){return j.onAuthStateChanged((function(e){s(e),d(!1)}))}),[]);var f={currentUser:c,login:function(e,t){return j.signInWithEmailAndPassword(e,t)},signup:function(e,t){return j.createUserWithEmailAndPassword(e,t)},logout:function(){return j.signOut()},resetPassword:function(e){return j.sendPasswordResetEmail(e)},updateEmail:function(e){return c.updateEmail(e)},updatePassword:function(e){return c.updatePassword(e)}};return Object(b.jsx)(O.Provider,{value:f,children:!l&&t})}var m=a(24),x=a(10),h=a(32),v=a(19),g=a(72);function y(e){var t=e.component,a=Object(g.a)(e,["component"]),r=f(),c=r.currentUser,s=r.logout,o=Object(n.useState)(),u=Object(i.a)(o,2),l=u[0],j=u[1],O=Object(n.useState)(),p=Object(i.a)(O,2),m=p[0],y=p[1],w=Object(n.useCallback)((function(e,t){var a=Object(v.a)(Object(v.a)({},m),{},Object(h.a)({},e,m[e]+1));t&&(a=Object(v.a)(Object(v.a)({},a),{},Object(h.a)({},t,m[t]+1))),d.database().ref(l).update(Object(v.a)({},a))}),[m,l]);return Object(n.useEffect)((function(){var e,t;if(c){var a=c.uid;j(a),e=d.database().ref(a),t=e.on("value",(function(e){e.val()?y(e.val()):y({played:0,won:0})}),(function(e){console.error(e)}))}return function(){c&&e.off("value",t)}}),[c]),Object(b.jsx)(x.b,Object(v.a)(Object(v.a)({},a),{},{render:function(e){return c?Object(b.jsx)(t,Object(v.a)(Object(v.a)({},e),{},{currentUser:c,data:m,incrementData:w,logout:s})):Object(b.jsx)(x.a,{to:"/login"})}}))}var w=a(15),S=a.n(w),N=a(25),E=a(125),P=a(123),C=a(122);function A(e){var t=e.testid,a=e.link,n=e.text,r=e.disabled,c=e.type,s=e.func,i=e.funcArgu;return Object(b.jsx)(C.a,{className:"btn w-100 mt-3 text-center ".concat(a?"text-decoration-none":"btn btn-warning "),"data-testid":t,variant:a?"link":"warning",disabled:r,type:c,onClick:function(){return"button"===c&&s(i)},children:n})}var R=a(69),_=a.n(R),I=r.a.createContext(),k=_.a.connect("/",{reconnection:!1,forceNew:!0});function T(e){var t=e.value,a=e.colIdx,n=e.handleMove;return Object(b.jsx)("div",{className:"square bg-primary",onClick:function(){return n(a)},children:Object(b.jsx)("div",{"data-testid":a,className:"circle ".concat(t?"p"+t:"")})})}var U=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,a=[],n=0;n<e;)a.push(Array(t).fill(0)),n++;return a},D=U(),L=function(e){for(var t=e[0].length,a=e.length-1,n=[],r=0;r<t;)n.push(a),r++;return n}(U()),B=function(e,t,a){for(var n=e[t][a],r=t-1,c=t+1,s=a-1,i=a+1,o=1,u=1,l=1,d=1,j=!0,b=!0,O=!0,f=!0,p=!0,m=!0,x=!0,h=!0;j||b||O||f||p||m||x||h;){var v,g,y,w,S,N;if([o,u,l,d].some((function(e){return e>=4})))return n;if(j)(null===(v=e[r])||void 0===v?void 0:v[a])===n?o++:j=!1;if(b)(null===(g=e[c])||void 0===g?void 0:g[a])===n?o++:b=!1;if(O&&(e[t][s]===n?u++:O=!1),f&&(e[t][i]===n?u++:f=!1),p)(null===(y=e[r])||void 0===y?void 0:y[s])===n?l++:p=!1;if(m)(null===(w=e[c])||void 0===w?void 0:w[i])===n?l++:m=!1;if(x)(null===(S=e[r])||void 0===S?void 0:S[i])===n?d++:x=!1;if(h)(null===(N=e[c])||void 0===N?void 0:N[s])===n?d++:h=!1;r--,c++,s--,i++}if(0===t&&!e[0].includes(0))return"Draw"},G=function e(t,a,n,r,c,s,o){switch(B(n,t,a)){case 1:return[s,10];case 2:return[s,-10];case"Draw":return[s,0];case void 0:if(0===s)return[s,0];c[a]=0===t?9:t-1}if(o){for(var u=[],l=1/0,d=-1/0,j=0;j<r;j++)if(9!==c[j]){var b=c[j];n[b][j]=1;var O=e(b,j,n,r,c,s-1,!1);c[j]=b,n[b][j]=0;var f=Object(i.a)(O,2),p=f[0],m=f[1];(m>d||m===d&&p>l&&m>=0||m===d&&p<l&&m<0)&&(l=p,d=m,u=O)}return u}for(var x=[],h=1/0,v=1/0,g=0;g<r;g++)if(9!==c[g]){var y=c[g];n[y][g]=2;var w=e(y,g,n,r,c,s-1,!0);c[g]=y,n[y][g]=0;var S=Object(i.a)(w,2),N=S[0],E=S[1];(E<v||E===v&&N<h&&E>=0||E===v&&N>h&&E<0)&&(h=N,v=E,x=w)}return x},F=Object(n.forwardRef)((function(e,t){var a=e.game,r=e.handleResultCb,c=e.opponentName,s=e.thisPlayerNum,o=e.gameOver,u=Object(n.useState)(D),l=Object(i.a)(u,2),d=l[0],j=l[1],O=Object(n.useState)(L),f=Object(i.a)(O,2),p=f[0],m=f[1],x=Object(n.useState)("single"===a),h=Object(i.a)(x,2),v=h[0],g=h[1],y=Object(n.useMemo)((function(){return 1===s?"#f012be":"#2ecc40"}),[s]),w=Object(n.useMemo)((function(){return 1===s?"#2ecc40":"#f012be"}),[s]),S=Object(n.useContext)(I);Object(n.useImperativeHandle)(t,(function(){return{grid:d,resetGrid:N}}));var N=function(){j(D),m(L),"single"!==a||v||setTimeout((function(){E(D,L)}),100)},E=function(e,t){var a=e.map((function(e){return e.slice()})),n=t.slice(),c=function(e,t){for(var a,n=e[0].length,r=[],c=1/0,s=0;s<n;s++)if(9!==t[s]){var o=t[s];e[o][s]=2;var u=G(o,s,e,n,t,7,!0);t[s]=o,e[o][s]=0;var l=Object(i.a)(u,2),d=l[0],j=l[1];j<c||c>0&&j===c&&d<a||j===c&&d>a&&j<0?(a=d,c=j,(r=[]).push([o,s])):j===c&&d===a&&r.push([o,s])}return r[Math.floor(Math.random()*r.length)]}(a,n),s=Object(i.a)(c,2),o=s[0],u=s[1];a[o][u]=2,j(a);var l=B(a,o,u);if(l)r(l);else{var d=0===o?9:o-1;n[u]=d,m(n),g(!0)}},P=function(e){if(!o&&v){if(9===p[e])return;var t,n=d.map((function(e){return e.slice()})),c=p[e];n[c][e]=s,j(n);var i=B(n,c,e);if(i)"multi"===a&&S.emit("result",{result:i,playerNum:s}),r(i,s);else{g(!1);var u=0===c?9:c-1;(t=p.slice())[e]=u,m(t),"single"===a&&setTimeout((function(){E(n,t)}),100)}"multi"===a&&S.emit("update-grid",{grid:n,rowChart:t,result:i})}};return Object(n.useEffect)((function(){return"multi"===a&&(S.emit("go-first"),S.on("go-first",(function(){g(!0),j(D),m(L)})),S.on("update-grid",(function(e){var t=e.grid,a=e.rowChart;e.result||g(!0),j(t),m(a)}))),function(){"multi"===a&&(S.off("go-first"),S.off("update-grid"))}}),[S,a]),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{"data-testid":"grid",className:"grid",children:d.map((function(e,t){return Object(b.jsx)("div",{className:"row grid_row",children:e.map((function(e,t){return Object(b.jsx)(T,{value:e,colIdx:t,handleMove:P},t)}))},t)}))}),Object(b.jsxs)("h4",{"data-testid":"turn",className:"text-center mt-4",style:{color:v?y:w},children:[!c&&"Waiting for a player to join...",o?"":v?"Your turn":"Waiting for ".concat(c,"...")]})]})}));function W(e){var t=e.userName,a=e.game,r=e.incrementData,c=e.toggleGameModeCb,s=Object(n.useState)("single"===a?t:null),o=Object(i.a)(s,2),u=o[0],l=o[1],d=Object(n.useState)("single"===a?"Peanutbot":null),j=Object(i.a)(d,2),O=j[0],f=j[1],p=Object(n.useState)(1),m=Object(i.a)(p,2),x=m[0],h=m[1],v=Object(n.useState)(0),g=Object(i.a)(v,2),y=g[0],w=g[1],S=Object(n.useState)(0),N=Object(i.a)(S,2),E=N[0],P=N[1],C=Object(n.useState)("single"!==a),R=Object(i.a)(C,2),_=R[0],k=R[1],T=Object(n.useState)(""),U=Object(i.a)(T,2),L=U[0],B=U[1],G=Object(n.useState)(""),W=Object(i.a)(G,2),M=W[0],q=W[1],J=Object(n.useState)("single"!==a),K=Object(i.a)(J,2),H=K[0],Y=K[1],z=Object(n.useState)(1),V=Object(i.a)(z,2),Q=V[0],X=V[1],Z=Object(n.useState)(""),$=Object(i.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(0),ne=Object(i.a)(ae,2),re=ne[0],ce=ne[1],se=Object(n.useState)(0),ie=Object(i.a)(se,2),oe=ie[0],ue=ie[1],le=Object(n.useState)(!1),de=Object(i.a)(le,2),je=de[0],be=de[1],Oe=Object(n.useMemo)((function(){return 1===Q?O:u}),[u,O,Q]),fe=Object(n.useContext)(I),pe=Object(n.useRef)(),me=Object(n.useCallback)((function(e,t){ce(e),ue(t)}),[]),xe=Object(n.useCallback)((function(e){be(!0),ue(e)}),[]);return Object(n.useEffect)((function(){if("multi"===a)return fe.emit("player-connecting",{userName:t}),fe.on("player-has-joined",(function(e){var t=e.player1,a=e.player2;t&&l(t),a&&f(a),t&&a&&(w(0),P(0),q(""),h(1),k(!1),Y(!1))})),fe.on("full-server",(function(){c(""),alert("Sorry, server is full.")})),fe.on("player-1-connected",(function(){te(t)})),fe.on("player-2-connected",(function(){X(2),te(t)})),fe.on("player-disconnected",(function(e){var t=e.playerName;1===e.playerNum?l(""):f(""),q("".concat(t," left\ud83d\udca8")),B(""),k(!0),Y(!0)})),function(){"multi"===a&&(fe.off("player-has-joined"),fe.off("full-server",c),fe.off("player-1-connected"),fe.off("player-2-connected"),fe.off("player-disconnected"))}}),[fe,a,t,c]),Object(n.useEffect)((function(){return"multi"===a&&(fe.on("result",(function(e){var t=e.result,a=e.playerNum;me(t,a)})),fe.on("replay",(function(e){var t=e.playerNum;xe(t)}))),function(){"multi"===a&&(fe.off("result",me),fe.off("replay",xe))}}),[fe,a,me,xe]),Object(n.useEffect)((function(){re&&(re===Q?(B("\ud83e\udd42 YOU WIN! \ud83c\udf89"),r("won")):B("Draw"===re?re+"! \ud83e\udd1d":"\ud83d\ude31 YOU LOSE! \ud83d\udca9"),oe!==Q&&"single"!==a||q("Click Replay \u2b07\ufe0f"),"multi"===a&&oe!==Q&&(q("Waiting for ".concat(Oe," to restart the game...")),Y(!0)),re===Q?r("played","won"):r("played"),1===re&&w((function(e){return e+1})),2===re&&P((function(e){return e+1})),k(!0),ce(0),ue(0))}),[re,a,r,oe,ee,Q]),Object(n.useEffect)((function(){if(je){var e=JSON.stringify(pe.current.grid)===JSON.stringify(D);_||e||oe!==Q||r("played"),pe.current.resetGrid(),k(!1),h((function(e){return e+1})),B(""),q(""),Y(!1),be(!1),ue(0)}}),[_,r,oe,je,Q]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col",children:[Object(b.jsxs)("h5",{"data-testid":"round",className:"text-primary",children:["Round: ",x]}),Object(b.jsxs)("h5",{children:[Object(b.jsx)("span",{"data-testid":"score1",className:"pink_font",children:y}),Object(b.jsx)("span",{className:"text-primary",children:" vs "}),Object(b.jsx)("span",{"data-testid":"score2",className:"text-success",children:E})]})]}),Object(b.jsxs)("div",{className:"col align-self-end",children:[Object(b.jsxs)("h5",{"data-testid":"p1Name",className:"player row justify-content-end",children:[u||"Waiting...",Object(b.jsx)("div",{className:"pink_background indicator rounded ml-2"})]}),Object(b.jsxs)("h5",{"data-testid":"p2Name",className:"player row justify-content-end",children:[O||"Waiting...",Object(b.jsx)("div",{className:"bg-success indicator rounded ml-2"})]})]})]}),Object(b.jsx)(F,{ref:pe,game:a,handleResultCb:me,opponentName:Oe,thisPlayerNum:Q,gameOver:_}),Object(b.jsx)("h4",{"data-testid":"resultMsg",className:"text-center text-warning mt-2",children:L}),Object(b.jsx)("h4",{"data-testid":"info",className:"text-center text-warning mt-2",children:M}),Object(b.jsx)("div",{onClick:function(){"multi"===a&&fe.emit("replay",{playerNum:Q})},children:Object(b.jsx)(A,{id:"replay",testid:"replay",text:"Replay",type:"button",func:xe,funcArgu:Q,disabled:H})}),Object(b.jsx)(A,{testid:"quit",text:"Quit",type:"button",func:function(){var e=JSON.stringify(pe.current.grid)===JSON.stringify(D);M||e||r("played"),"multi"===a&&fe.emit("player-disconnected",{playerNum:Q}),c("")}})]})}function M(e){var t,a=e.currentUser,r=e.data,c=e.incrementData,s=e.logout,o=Object(x.g)(),u=Object(x.h)(),l=Object(n.useState)(),d=Object(i.a)(l,2),j=d[0],O=d[1],f=Object(n.useState)((null===(t=u.state)||void 0===t?void 0:t.userName)||a.displayName),p=Object(i.a)(f,1)[0],m=Object(n.useState)(""),h=Object(i.a)(m,2),v=h[0],g=h[1],y=function(){var e=Object(N.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(""),e.prev=1,e.next=4,s();case 4:o.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),g("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),w=Object(n.useCallback)((function(e){O(e)}),[]);return Object(b.jsx)("main",{className:"container",children:j?Object(b.jsx)(I.Provider,{value:k,children:Object(b.jsx)(W,{userName:p,game:j,incrementData:c,toggleGameModeCb:w})}):Object(b.jsxs)("div",{children:[Object(b.jsx)(E.a,{className:"box",children:Object(b.jsxs)(E.a.Body,{children:[Object(b.jsxs)("h2",{"data-testid":"userName",className:"text-center mb-4",children:["Hello, ",p,"!"]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("h2",{"data-testid":"played",className:"col-6 text-center",children:["\ud83c\udfae \u2716\ufe0f ",void 0!==(null===r||void 0===r?void 0:r.played)?r.played:"Loading..."]}),Object(b.jsxs)("h2",{"data-testid":"won",className:"col-6 text-center",children:["\ud83c\udfc6 \u2716\ufe0f ",void 0!==(null===r||void 0===r?void 0:r.won)?r.won:"Loading..."]})]}),v&&Object(b.jsx)(P.a,{"data-testid":"error",variant:"danger",children:v}),Object(b.jsx)(A,{testid:"single",text:"Challenge Peanutbot",type:"button",func:w,funcArgu:"single"}),Object(b.jsx)(A,{testid:"multi",text:"Play With A Friend",type:"button",func:w,funcArgu:"multi"}),Object(b.jsx)(A,{testid:"goToUpdate",text:"Update Profile",type:"button",func:function(){o.push("/update-profile")}})]})}),Object(b.jsx)(A,{testid:"logout",link:!0,text:"Log Out",type:"button",func:y})]})})}var q=a(124);function J(e){var t=e.testid,a=e.text,n=e.moreText,r=e.to;return Object(b.jsxs)("p",{"data-testid":"linkText",className:"text-center mt-2",children:[n,Object(b.jsx)(m.b,{"data-testid":t,className:"text-decoration-none",to:r,children:a})]})}function K(e){var t=e.text;return Object(b.jsx)("h2",{className:"text-center mb-4",children:t})}function H(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useRef)(),c=f(),s=c.currentUser,o=c.updatePassword,u=c.updateEmail,l=Object(n.useState)(""),d=Object(i.a)(l,2),j=d[0],O=d[1],p=Object(n.useState)(!1),m=Object(i.a)(p,2),h=m[0],v=m[1],g=Object(x.g)();return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(E.a,{children:Object(b.jsxs)(E.a.Body,{children:[Object(b.jsx)(K,{text:"Update Profile"}),j&&Object(b.jsx)(P.a,{variant:"danger",children:j}),Object(b.jsxs)(q.a,{onSubmit:function(n){if(n.preventDefault(),a.current.value!==r.current.value)return O("Passwords do not match");var c=[];v(!0),O(""),e.current.value!==s.displayName&&c.push(s.updateProfile({displayName:e.current.value})),t.current.value!==s.email&&c.push(u(t.current.value)),a.current.value&&c.push(o(a.current.value)),Promise.all(c).then((function(){g.push("/")})).catch((function(){O("Failed to update account"),v(!1)}))},children:[Object(b.jsxs)(q.a.Group,{id:"username",children:[Object(b.jsx)(q.a.Label,{children:"Username"}),Object(b.jsx)(q.a.Control,{"data-testid":"updateUsernameInput",type:"text",ref:e,required:!0,defaultValue:s.displayName})]}),Object(b.jsxs)(q.a.Group,{id:"email",children:[Object(b.jsx)(q.a.Label,{children:"Email"}),Object(b.jsx)(q.a.Control,{type:"email",ref:t,required:!0,defaultValue:s.email})]}),Object(b.jsxs)(q.a.Group,{id:"password",children:[Object(b.jsx)(q.a.Label,{children:"Password"}),Object(b.jsx)(q.a.Control,{type:"password",ref:a,placeholder:"Leave blank to keep the same"})]}),Object(b.jsxs)(q.a.Group,{id:"password-confirm",children:[Object(b.jsx)(q.a.Label,{children:"Password Confirmation"}),Object(b.jsx)(q.a.Control,{type:"password",ref:r,placeholder:"Leave blank to keep the same"})]}),Object(b.jsx)(A,{testid:"update",text:"Update",disabled:h,type:"submit"})]})]})}),Object(b.jsx)(J,{testid:"cancel",text:"Cancel",to:"/"})]})}function Y(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=Object(n.useRef)(),r=Object(n.useRef)(),c=f().signup,s=Object(n.useState)(""),o=Object(i.a)(s,2),u=o[0],l=o[1],d=Object(n.useState)(!1),j=Object(i.a)(d,2),O=j[0],p=j[1],m=Object(x.g)();function h(){return(h=Object(N.a)(S.a.mark((function n(s){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(s.preventDefault(),a.current.value===r.current.value){n.next=3;break}return n.abrupt("return",l("Passwords do not match"));case 3:return n.prev=3,l(""),p(!0),n.next=8,c(t.current.value,a.current.value).then((function(t){t.user.updateProfile({displayName:e.current.value})}));case 8:m.push("/",{userName:e.current.value}),n.next=15;break;case 11:n.prev=11,n.t0=n.catch(3),l("Failed to create an account"),p(!1);case 15:case"end":return n.stop()}}),n,null,[[3,11]])})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(E.a,{children:Object(b.jsxs)(E.a.Body,{children:[Object(b.jsx)(K,{text:"Sign Up"}),u&&Object(b.jsx)(P.a,{variant:"danger",children:u}),Object(b.jsxs)(q.a,{onSubmit:function(e){return h.apply(this,arguments)},children:[Object(b.jsxs)(q.a.Group,{id:"username",children:[Object(b.jsx)(q.a.Label,{children:"Username"}),Object(b.jsx)(q.a.Control,{"data-testid":"nameInput",type:"text",ref:e,required:!0})]}),Object(b.jsxs)(q.a.Group,{id:"email",children:[Object(b.jsx)(q.a.Label,{children:"Email"}),Object(b.jsx)(q.a.Control,{"data-testid":"emailInput",type:"email",ref:t,required:!0})]}),Object(b.jsxs)(q.a.Group,{id:"password",children:[Object(b.jsx)(q.a.Label,{children:"Password"}),Object(b.jsx)(q.a.Control,{"data-testid":"passwordInput",type:"password",placeholder:"Minimum 6 characters",ref:a,required:!0})]}),Object(b.jsxs)(q.a.Group,{id:"password-confirm",children:[Object(b.jsx)(q.a.Label,{children:"Password Confirmation"}),Object(b.jsx)(q.a.Control,{"data-testid":"confirmPasswordInput",type:"password",ref:r,required:!0})]}),Object(b.jsx)(A,{testid:"signup",text:"Sign Up",disabled:O,type:"submit"})]})]})}),Object(b.jsx)(J,{text:"Log In",moreText:"Already have an account? ",to:"/login"})]})}function z(){var e=Object(n.useRef)(),t=Object(n.useRef)(),a=f().login,r=Object(n.useState)(""),c=Object(i.a)(r,2),s=c[0],o=c[1],u=Object(n.useState)(!1),l=Object(i.a)(u,2),d=l[0],j=l[1],O=Object(x.g)();function p(){return(p=Object(N.a)(S.a.mark((function n(r){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.preventDefault(),n.prev=1,o(""),j(!0),n.next=6,a(e.current.value,t.current.value);case 6:O.push("/"),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),j(!1),o("Failed to log in");case 13:case"end":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("header",{"data-testid":"title",className:"title text-primary",children:"Connect Four"}),Object(b.jsx)(E.a,{children:Object(b.jsxs)(E.a.Body,{children:[s&&Object(b.jsx)(P.a,{"data-testid":"error",variant:"danger",children:s}),Object(b.jsxs)(q.a,{onSubmit:function(e){return p.apply(this,arguments)},children:[Object(b.jsxs)(q.a.Group,{id:"email",children:[Object(b.jsx)(q.a.Label,{children:"Email"}),Object(b.jsx)(q.a.Control,{"data-testid":"loginEmailInput",type:"email",ref:e,required:!0})]}),Object(b.jsxs)(q.a.Group,{id:"password",children:[Object(b.jsx)(q.a.Label,{children:"Password"}),Object(b.jsx)(q.a.Control,{"data-testid":"loginPasswordInput",type:"password",ref:t,required:!0})]}),Object(b.jsx)(A,{testid:"login",text:"Log In",disabled:d,type:"submit"})]}),Object(b.jsx)(J,{testid:"forgotPassword",text:"Forgot Password?",to:"/forgot-password"})]})}),Object(b.jsx)(J,{testid:"goToSignup",text:"Sign Up",moreText:"Need an account? ",to:"/signup"})]})}function V(){var e=Object(n.useRef)(),t=f().resetPassword,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),l=u[0],d=u[1],j=Object(n.useState)(!1),O=Object(i.a)(j,2),p=O[0],m=O[1];function x(){return(x=Object(N.a)(S.a.mark((function a(n){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,d(""),s(""),m(!0),a.next=7,t(e.current.value);case 7:d("Check your inbox for further instructions"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(1),s("Failed to reset password");case 13:m(!1);case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))).apply(this,arguments)}return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(E.a,{children:Object(b.jsxs)(E.a.Body,{children:[Object(b.jsx)(K,{text:"Password Reset"}),c&&Object(b.jsx)(P.a,{variant:"danger",children:c}),l&&Object(b.jsx)(P.a,{variant:"success",children:l}),Object(b.jsxs)(q.a,{onSubmit:function(e){return x.apply(this,arguments)},children:[Object(b.jsxs)(q.a.Group,{id:"email",children:[Object(b.jsx)(q.a.Label,{children:"Email"}),Object(b.jsx)(q.a.Control,{type:"email",ref:e,required:!0})]}),Object(b.jsx)(A,{text:"Reset Password",disabled:p,type:"submit"})]}),Object(b.jsx)(J,{text:"Login",to:"/login"})]})}),Object(b.jsx)(J,{text:"Sign Up",moreText:"Need an account? ",to:"/signup"})]})}a(118),a(119);function Q(){return Object(b.jsx)(m.a,{children:Object(b.jsx)(p,{children:Object(b.jsxs)(x.d,{children:[Object(b.jsx)(y,{exact:!0,path:"/",component:M}),Object(b.jsx)(y,{path:"/update-profile",component:H}),Object(b.jsx)(x.b,{path:"/signup",component:Y}),Object(b.jsx)(x.b,{path:"/login",component:z}),Object(b.jsx)(x.b,{path:"/forgot-password",component:V})]})})})}s.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(Q,{})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.c69dead4.chunk.js.map